{"Asset":[{"_id":"themes\\landscape-plus\\source\\img\\scrollup.png","path":"img/scrollup.png","modified":true},{"_id":"themes\\landscape-plus\\source\\js\\count.js","path":"js/count.js","modified":true},{"_id":"themes\\landscape-plus\\source\\js\\script.js","path":"js/script.js","modified":true},{"_id":"themes\\landscape-plus\\source\\fancybox\\blank.gif","path":"fancybox/blank.gif","modified":true},{"_id":"themes\\landscape-plus\\source\\fancybox\\fancybox_loading.gif","path":"fancybox/fancybox_loading.gif","modified":true},{"_id":"themes\\landscape-plus\\source\\fancybox\\fancybox_loading@2x.gif","path":"fancybox/fancybox_loading@2x.gif","modified":true},{"_id":"themes\\landscape-plus\\source\\fancybox\\fancybox_overlay.png","path":"fancybox/fancybox_overlay.png","modified":true},{"_id":"themes\\landscape-plus\\source\\fancybox\\fancybox_sprite.png","path":"fancybox/fancybox_sprite.png","modified":true},{"_id":"themes\\landscape-plus\\source\\fancybox\\fancybox_sprite@2x.png","path":"fancybox/fancybox_sprite@2x.png","modified":true},{"_id":"themes\\landscape-plus\\source\\fancybox\\jquery.fancybox.css","path":"fancybox/jquery.fancybox.css","modified":true},{"_id":"themes\\landscape-plus\\source\\fancybox\\jquery.fancybox.js","path":"fancybox/jquery.fancybox.js","modified":true},{"_id":"themes\\landscape-plus\\source\\fancybox\\jquery.fancybox.pack.js","path":"fancybox/jquery.fancybox.pack.js","modified":true},{"_id":"themes\\landscape-plus\\source\\fancybox\\helpers\\fancybox_buttons.png","path":"fancybox/helpers/fancybox_buttons.png","modified":true},{"_id":"themes\\landscape-plus\\source\\fancybox\\helpers\\jquery.fancybox-buttons.css","path":"fancybox/helpers/jquery.fancybox-buttons.css","modified":true},{"_id":"themes\\landscape-plus\\source\\fancybox\\helpers\\jquery.fancybox-buttons.js","path":"fancybox/helpers/jquery.fancybox-buttons.js","modified":true},{"_id":"themes\\landscape-plus\\source\\fancybox\\helpers\\jquery.fancybox-media.js","path":"fancybox/helpers/jquery.fancybox-media.js","modified":true},{"_id":"themes\\landscape-plus\\source\\fancybox\\helpers\\jquery.fancybox-thumbs.css","path":"fancybox/helpers/jquery.fancybox-thumbs.css","modified":true},{"_id":"themes\\landscape-plus\\source\\fancybox\\helpers\\jquery.fancybox-thumbs.js","path":"fancybox/helpers/jquery.fancybox-thumbs.js","modified":true},{"_id":"themes\\landscape-plus\\source\\css\\bdshare.styl","path":"css/bdshare.styl","modified":true},{"_id":"themes\\landscape-plus\\source\\css\\style.styl","path":"css/style.styl","modified":true},{"_id":"themes\\landscape-plus\\source\\css\\fonts\\FontAwesome.otf","path":"css/fonts/FontAwesome.otf","modified":true},{"_id":"themes\\landscape-plus\\source\\css\\fonts\\fontawesome-webfont.eot","path":"css/fonts/fontawesome-webfont.eot","modified":true},{"_id":"themes\\landscape-plus\\source\\css\\fonts\\fontawesome-webfont.svg","path":"css/fonts/fontawesome-webfont.svg","modified":true},{"_id":"themes\\landscape-plus\\source\\css\\fonts\\fontawesome-webfont.ttf","path":"css/fonts/fontawesome-webfont.ttf","modified":true},{"_id":"themes\\landscape-plus\\source\\css\\fonts\\fontawesome-webfont.woff","path":"css/fonts/fontawesome-webfont.woff","modified":true},{"_id":"themes\\landscape-plus\\source\\css\\images\\banner.jpg","path":"css/images/banner.jpg","modified":true},{"_id":"themes\\landscape-plus\\source\\css\\images\\bannerbk.jpg","path":"css/images/bannerbk.jpg","modified":true}],"Cache":[{"_id":"scaffolds\\page.md","mtime":1424141233562},{"_id":"scaffolds\\draft.md","mtime":1424141233564},{"_id":"scaffolds\\photo.md","mtime":1424141233568},{"_id":"scaffolds\\post.md","mtime":1424141233564},{"_id":"source\\About\\index.md","mtime":1424913501146},{"_id":"source\\_posts\\realtime-count-firebase.md","mtime":1425274321673},{"_id":"source\\_posts\\第一篇blog.md","mtime":1424913501159},{"_id":"themes\\landscape-plus\\Gruntfile.js","mtime":1424913501261},{"_id":"themes\\landscape-plus\\LICENSE","mtime":1424913501295},{"_id":"themes\\landscape-plus\\_config.yml","mtime":1425019926441},{"_id":"themes\\landscape-plus\\README.md","mtime":1424913501302},{"_id":"themes\\landscape-plus\\package.json","mtime":1424913501837},{"_id":"themes\\landscape-plus\\languages\\default.yml","mtime":1424913501312},{"_id":"themes\\landscape-plus\\languages\\zh-CN.yml","mtime":1424913501318},{"_id":"themes\\landscape-plus\\languages\\zh-TW.yml","mtime":1424913501324},{"_id":"themes\\landscape-plus\\scripts\\fancybox.js","mtime":1424913501842},{"_id":"themes\\landscape-plus\\layout\\archive.ejs","mtime":1424913501709},{"_id":"themes\\landscape-plus\\layout\\category.ejs","mtime":1424913501712},{"_id":"themes\\landscape-plus\\layout\\index.ejs","mtime":1424913501731},{"_id":"themes\\landscape-plus\\layout\\layout.ejs","mtime":1424913501763},{"_id":"themes\\landscape-plus\\layout\\page.ejs","mtime":1424913501801},{"_id":"themes\\landscape-plus\\layout\\post.ejs","mtime":1424913501802},{"_id":"themes\\landscape-plus\\layout\\tag.ejs","mtime":1424913501835},{"_id":"themes\\landscape-plus\\layout\\_widget\\archive.ejs","mtime":1424913501690},{"_id":"themes\\landscape-plus\\layout\\_widget\\category.ejs","mtime":1424913501692},{"_id":"themes\\landscape-plus\\layout\\_widget\\links.ejs","mtime":1424913501694},{"_id":"themes\\landscape-plus\\layout\\_widget\\recent_posts.ejs","mtime":1424913501698},{"_id":"themes\\landscape-plus\\layout\\_widget\\tagcloud.ejs","mtime":1424913501703},{"_id":"themes\\landscape-plus\\layout\\_widget\\tag.ejs","mtime":1424913501700},{"_id":"themes\\landscape-plus\\layout\\_widget\\weibo.ejs","mtime":1424913501705},{"_id":"themes\\landscape-plus\\layout\\_partial\\archive-post.ejs","mtime":1424913501430},{"_id":"themes\\landscape-plus\\layout\\_partial\\archive.ejs","mtime":1424913501439},{"_id":"themes\\landscape-plus\\layout\\_partial\\after-footer.ejs","mtime":1424913501425},{"_id":"themes\\landscape-plus\\layout\\_partial\\article.ejs","mtime":1424913501447},{"_id":"themes\\landscape-plus\\layout\\_partial\\baidu_tongji.ejs","mtime":1424913501602},{"_id":"themes\\landscape-plus\\layout\\_partial\\footer.ejs","mtime":1425109669528},{"_id":"themes\\landscape-plus\\layout\\_partial\\google-analytics.ejs","mtime":1424913501609},{"_id":"themes\\landscape-plus\\layout\\_partial\\head.ejs","mtime":1425083127651},{"_id":"themes\\landscape-plus\\layout\\_partial\\header.ejs","mtime":1424913501617},{"_id":"themes\\landscape-plus\\layout\\_partial\\mathjax.ejs","mtime":1424913501634},{"_id":"themes\\landscape-plus\\layout\\_partial\\mobile-nav.ejs","mtime":1424913501639},{"_id":"themes\\landscape-plus\\layout\\_partial\\sidebar.ejs","mtime":1424913501685},{"_id":"themes\\landscape-plus\\layout\\_partial\\totop.ejs","mtime":1424913501688},{"_id":"themes\\landscape-plus\\layout\\_partial\\post\\category.ejs","mtime":1424913501645},{"_id":"themes\\landscape-plus\\layout\\_partial\\post\\date.ejs","mtime":1424913501658},{"_id":"themes\\landscape-plus\\layout\\_partial\\post\\gallery.ejs","mtime":1424913501668},{"_id":"themes\\landscape-plus\\layout\\_partial\\post\\nav.ejs","mtime":1424913501670},{"_id":"themes\\landscape-plus\\layout\\_partial\\post\\tag.ejs","mtime":1424913501676},{"_id":"themes\\landscape-plus\\layout\\_partial\\post\\title.ejs","mtime":1424913501680},{"_id":"themes\\landscape-plus\\source\\img\\scrollup.png","mtime":1424913502743},{"_id":"themes\\landscape-plus\\source\\js\\count.js","mtime":1425110005024},{"_id":"themes\\landscape-plus\\source\\js\\script.js","mtime":1424913502794},{"_id":"themes\\landscape-plus\\source\\fancybox\\blank.gif","mtime":1424913502436},{"_id":"themes\\landscape-plus\\source\\fancybox\\fancybox_loading.gif","mtime":1424913502442},{"_id":"themes\\landscape-plus\\source\\fancybox\\fancybox_loading@2x.gif","mtime":1424913502449},{"_id":"themes\\landscape-plus\\source\\fancybox\\fancybox_overlay.png","mtime":1424913502455},{"_id":"themes\\landscape-plus\\source\\fancybox\\fancybox_sprite.png","mtime":1424913502462},{"_id":"themes\\landscape-plus\\source\\fancybox\\fancybox_sprite@2x.png","mtime":1424913502508},{"_id":"themes\\landscape-plus\\source\\fancybox\\jquery.fancybox.css","mtime":1424913502655},{"_id":"themes\\landscape-plus\\source\\fancybox\\jquery.fancybox.js","mtime":1424913502678},{"_id":"themes\\landscape-plus\\source\\fancybox\\jquery.fancybox.pack.js","mtime":1424913502692},{"_id":"themes\\landscape-plus\\source\\fancybox\\helpers\\fancybox_buttons.png","mtime":1424913502514},{"_id":"themes\\landscape-plus\\source\\fancybox\\helpers\\jquery.fancybox-buttons.css","mtime":1424913502524},{"_id":"themes\\landscape-plus\\source\\fancybox\\helpers\\jquery.fancybox-buttons.js","mtime":1424913502574},{"_id":"themes\\landscape-plus\\source\\fancybox\\helpers\\jquery.fancybox-media.js","mtime":1424913502590},{"_id":"themes\\landscape-plus\\source\\fancybox\\helpers\\jquery.fancybox-thumbs.css","mtime":1424913502597},{"_id":"themes\\landscape-plus\\source\\fancybox\\helpers\\jquery.fancybox-thumbs.js","mtime":1424913502642},{"_id":"themes\\landscape-plus\\source\\css\\_extend.styl","mtime":1424913501846},{"_id":"themes\\landscape-plus\\source\\css\\_variables.styl","mtime":1424913502056},{"_id":"themes\\landscape-plus\\source\\css\\bdshare.styl","mtime":1424913502064},{"_id":"themes\\landscape-plus\\source\\css\\style.styl","mtime":1424913502389},{"_id":"themes\\landscape-plus\\source\\css\\_partial\\archive.styl","mtime":1424913501848},{"_id":"themes\\landscape-plus\\source\\css\\_partial\\article.styl","mtime":1424913501852},{"_id":"themes\\landscape-plus\\source\\css\\_partial\\comment.styl","mtime":1424913501858},{"_id":"themes\\landscape-plus\\source\\css\\_partial\\footer.styl","mtime":1424913501862},{"_id":"themes\\landscape-plus\\source\\css\\_partial\\header.styl","mtime":1424913501899},{"_id":"themes\\landscape-plus\\source\\css\\_partial\\highlight.styl","mtime":1424913501918},{"_id":"themes\\landscape-plus\\source\\css\\_partial\\mobile.styl","mtime":1424913501957},{"_id":"themes\\landscape-plus\\source\\css\\_partial\\sidebar-aside.styl","mtime":1424913501963},{"_id":"themes\\landscape-plus\\source\\css\\_partial\\sidebar.styl","mtime":1424913501987},{"_id":"themes\\landscape-plus\\source\\css\\_partial\\sidebar-bottom.styl","mtime":1424913501971},{"_id":"themes\\landscape-plus\\source\\css\\_partial\\totop.styl","mtime":1424913501993},{"_id":"themes\\landscape-plus\\source\\css\\_util\\grid.styl","mtime":1424913502021},{"_id":"themes\\landscape-plus\\source\\css\\_util\\mixin.styl","mtime":1424913502051},{"_id":"themes\\landscape-plus\\source\\css\\fonts\\FontAwesome.otf","mtime":1424913502072},{"_id":"themes\\landscape-plus\\source\\css\\fonts\\fontawesome-webfont.eot","mtime":1424913502175},{"_id":"themes\\landscape-plus\\source\\css\\fonts\\fontawesome-webfont.svg","mtime":1424913502192},{"_id":"themes\\landscape-plus\\source\\css\\fonts\\fontawesome-webfont.ttf","mtime":1424913502219},{"_id":"themes\\landscape-plus\\source\\css\\fonts\\fontawesome-webfont.woff","mtime":1424913502223},{"_id":"themes\\landscape-plus\\source\\css\\images\\banner.jpg","mtime":1424913502245},{"_id":"themes\\landscape-plus\\source\\css\\images\\bannerbk.jpg","mtime":1424913502385}],"Category":[],"Page":[{"title":"About","date":1424509293000,"content":"<h2 id=\"个人信息\">个人信息</h2>\n<p>庞健 pangjian</p>\n<p>毕业于北京理工大学计算机学院</p>\n<p>现在的职业是金融IT</p>\n<h2 id=\"联系方式\">联系方式</h2>\n<p>邮箱：<a href=\"&#x6d;&#x61;&#105;&#x6c;&#116;&#x6f;&#x3a;&#112;&#97;&#110;&#x67;&#x6a;&#x69;&#97;&#110;&#49;&#48;&#x31;&#48;&#x40;&#x67;&#x6d;&#x61;&#x69;&#x6c;&#46;&#99;&#x6f;&#x6d;\">&#112;&#97;&#110;&#x67;&#x6a;&#x69;&#97;&#110;&#49;&#48;&#x31;&#48;&#x40;&#x67;&#x6d;&#x61;&#x69;&#x6c;&#46;&#99;&#x6f;&#x6d;</a><br>电话：186 ^_^</p>\n<h2 id=\"其他\">其他</h2>\n","source":"About/index.md","raw":"title: About\ndate: 2015-02-21 17:01:33\n---\n\n##个人信息\n庞健 pangjian\n\n毕业于北京理工大学计算机学院\n\n现在的职业是金融IT\n\n##联系方式\n\n邮箱：<pangjian1010@gmail.com>\n电话：186 ^_^\n\n##其他\n","updated":1424913501146,"path":"About/index.html","excerpt":"","_id":"uz8606oea9mx9j0g","comments":true,"layout":"page"}],"Post":[{"title":"第一篇blog","date":1424157126000,"tags":["xyic4x335xtbabg6"],"content":"<p>博客开张啦，这是我的第一篇博客，基于Hexo搭建，部署在Github Page上。</p>\n<p>地址：<a href=\"http://pangjian.github.io\" target=\"_blank\" rel=\"external\">pangjian.github.io</a></p>\n","source":"_posts/第一篇blog.md","raw":"title: 第一篇blog\ndate: 2015-02-17 15:12:06\ntags: [生活]\n---\n博客开张啦，这是我的第一篇博客，基于Hexo搭建，部署在Github Page上。\n\n地址：[pangjian.github.io](http://pangjian.github.io)","slug":"第一篇blog","updated":1424913501159,"excerpt":"","_id":"41xz9tlsmyx8zm22","categories":[],"comments":true,"layout":"post","photos":[],"link":""},{"title":"基于FireBase的Hexo博客实时访问数统计-未完成","date":1425021126000,"tags":["385m3nk1d7yh90r6","bd6nced9dbbzsmpg","x02v6weo633c48ch"],"photos":["http://7vzqg8.com1.z0.glb.clouddn.com/realtime-count-firebase/firebase.PNG"],"content":"<p>本来想写一个HEXO的搭建过程的，但是在搜索引擎上一搜一大把教程。看到有人评论：“你写这个跟HEXO官方的教程比好在哪？”仔细想想，说的极好。索性也就不写这个人家已经写烂了的东西了。附一个<a href=\"http://hexo.io/docs/\" target=\"_blank\" rel=\"external\">官方教程链接</a>。其实在搭建过程中还参考了一个很全面很详细的博客，也附上链接吧，<a href=\"http://ibruce.info/2013/11/22/hexo-your-blog/\" target=\"_blank\" rel=\"external\">ibruce不如</a>。<br>对于像HEXO这种静态博客来讲，想要做到一些动态的功能就必须得靠第三方支持，比如评论可以使用多说、Disqus。虽然我的blog的访问人数少的可怜，但是我还是希望知道有多少访问量的。于是乎发现了FireBase这个神奇的东西，它是一个制作实时应用的框架，用它来统计访问量绰绰有余啦。它可以做到的就像本博客下面的一样，你可以尝试开启两个本博客窗口，然后刷新其中一个，看看另外一个页面，是不是很神奇？另一个页面的访问量也实时增加了！</p>\n<a id=\"more\"></a>\n<h2 id=\"注册FireBase账号\">注册FireBase账号</h2>\n<h2 id=\"创建应用\">创建应用</h2>\n<h2 id=\"FireBase基本用法\">FireBase基本用法</h2>\n<h2 id=\"在你的HEXO页面上引入FireBase\">在你的HEXO页面上引入FireBase</h2>\n<p>在页面的head中引入FireBase的js，</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"title\">script</span> <span class=\"attribute\">src</span>=<span class=\"value\">'https://cdn.firebase.com/js/client/2.0.4/firebase.js'</span>&gt;</span><span class=\"javascript\"></span><span class=\"tag\">&lt;/<span class=\"title\">script</span>&gt;</span></div></pre></td></tr></table></figure>\n\n<p>为了加速，也可以将这个js放到自己的七牛云存储上。</p>\n<h2 id=\"增加代码调用FireBase来实现记录访问数\">增加代码调用FireBase来实现记录访问数</h2>\n<p>首先new出自己的FireBase</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> io10blogFirebase = <span class=\"keyword\">new</span> Firebase(<span class=\"string\">\"https://io10.firebaseio.com/\"</span>);</div></pre></td></tr></table></figure>\n\n<p>然后获取访问总量以及明细</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// 明细由当前页面的url表示，将反斜线替换成下划线，并将中文decode出来</span></div><div class=\"line\"><span class=\"keyword\">var</span> current_url = <span class=\"built_in\">decodeURI</span>(<span class=\"built_in\">window</span>.location.pathname.replace(<span class=\"keyword\">new</span> <span class=\"built_in\">RegExp</span>(<span class=\"string\">'\\\\/|\\\\.'</span>, <span class=\"string\">'g'</span>),<span class=\"string\">\"_\"</span>));</div><div class=\"line\"><span class=\"comment\">// 获取总数，并将总访问量展示在页面上</span></div><div class=\"line\">io10blogFirebase.child(<span class=\"string\">\"sum\"</span>).on(<span class=\"string\">\"value\"</span>, <span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">(data)</span> </span>{</div><div class=\"line\">  <span class=\"keyword\">var</span> current_counter = data.val();</div><div class=\"line\">  <span class=\"keyword\">if</span>( $(<span class=\"string\">\"#sum_counter\"</span>).length &gt; <span class=\"number\">0</span>  && current_counter &gt;<span class=\"number\">1</span> ){</div><div class=\"line\">      $(<span class=\"string\">\"#sum_counter\"</span>).html(</div><div class=\"line\">   \t   \t<span class=\"string\">\"&nbsp;|&nbsp;总访问量&nbsp;&lt;font style='color:white'&gt;\"</span>+ current_counter +<span class=\"string\">\"&lt;/font&gt;&nbsp;次\"</span></div><div class=\"line\">       );</div><div class=\"line\">  };</div><div class=\"line\">});</div><div class=\"line\"><span class=\"comment\">// 获取明细，并将明细也展示在页面上</span></div><div class=\"line\">io10blogFirebase.child(<span class=\"string\">\"detail/\"</span>+current_url).on(<span class=\"string\">\"value\"</span>, <span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">(data)</span></span>{</div><div class=\"line\">\t<span class=\"keyword\">var</span> detail_counter = data.val();</div><div class=\"line\">\t<span class=\"keyword\">if</span>($(<span class=\"string\">\"#detail_counter\"</span>).length &gt; <span class=\"number\">0</span> && detail_counter &gt; <span class=\"number\">1</span>){</div><div class=\"line\">\t\t$(<span class=\"string\">\"#detail_counter\"</span>).html(</div><div class=\"line\">\t\t\t<span class=\"string\">\"&nbsp;本页访问量&nbsp;&lt;font style='color:white'&gt;\"</span>+ detail_counter +<span class=\"string\">\"&lt;/font&gt;&nbsp;次\"</span></div><div class=\"line\">\t\t);</div><div class=\"line\">\t}</div><div class=\"line\">});</div></pre></td></tr></table></figure>\n\n<p>将访问数+1，包括总数和明细</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// 总数+1</span></div><div class=\"line\">io10blogFirebase.child(<span class=\"string\">\"sum\"</span>).transaction(<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">(current_counter)</span> </span>{</div><div class=\"line\">  <span class=\"keyword\">return</span> (current_counter || <span class=\"number\">0</span>) + <span class=\"number\">1</span>;</div><div class=\"line\">});</div><div class=\"line\"><span class=\"comment\">// 明细+1</span></div><div class=\"line\">io10blogFirebase.child(<span class=\"string\">\"detail/\"</span>+current_url).transaction(<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">(current_counter)</span> </span>{</div><div class=\"line\">  <span class=\"keyword\">return</span> (current_counter || <span class=\"number\">0</span>) + <span class=\"number\">1</span>;</div><div class=\"line\">});</div></pre></td></tr></table></figure>\n\n","source":"_posts/realtime-count-firebase.md","raw":"title: 基于FireBase的Hexo博客实时访问数统计-未完成\ndate: 2015-02-27 15:12:06\ntags: [技术,firebase,hexo]\nphotos:\n- http://7vzqg8.com1.z0.glb.clouddn.com/realtime-count-firebase/firebase.PNG\n---\n\n本来想写一个HEXO的搭建过程的，但是在搜索引擎上一搜一大把教程。看到有人评论：“你写这个跟HEXO官方的教程比好在哪？”仔细想想，说的极好。索性也就不写这个人家已经写烂了的东西了。附一个[官方教程链接](http://hexo.io/docs/)。其实在搭建过程中还参考了一个很全面很详细的博客，也附上链接吧，[ibruce不如](http://ibruce.info/2013/11/22/hexo-your-blog/)。\n对于像HEXO这种静态博客来讲，想要做到一些动态的功能就必须得靠第三方支持，比如评论可以使用多说、Disqus。虽然我的blog的访问人数少的可怜，但是我还是希望知道有多少访问量的。于是乎发现了FireBase这个神奇的东西，它是一个制作实时应用的框架，用它来统计访问量绰绰有余啦。它可以做到的就像本博客下面的一样，你可以尝试开启两个本博客窗口，然后刷新其中一个，看看另外一个页面，是不是很神奇？另一个页面的访问量也实时增加了！\n\n<!--more-->\n\n##注册FireBase账号\n\n##创建应用\n\n##FireBase基本用法\n\n##在你的HEXO页面上引入FireBase\n在页面的head中引入FireBase的js，\n```html\n<script src='https://cdn.firebase.com/js/client/2.0.4/firebase.js'></script>\n```\n为了加速，也可以将这个js放到自己的七牛云存储上。\n\n##增加代码调用FireBase来实现记录访问数\n\n首先new出自己的FireBase\n```javascript\nvar io10blogFirebase = new Firebase(\"https://io10.firebaseio.com/\");\n```\n然后获取访问总量以及明细\n```javascript\n// 明细由当前页面的url表示，将反斜线替换成下划线，并将中文decode出来\nvar current_url = decodeURI(window.location.pathname.replace(new RegExp('\\\\/|\\\\.', 'g'),\"_\"));\n// 获取总数，并将总访问量展示在页面上\nio10blogFirebase.child(\"sum\").on(\"value\", function(data) {\n  var current_counter = data.val();\n  if( $(\"#sum_counter\").length > 0  && current_counter >1 ){\n      $(\"#sum_counter\").html(\n   \t   \t\"&nbsp;|&nbsp;总访问量&nbsp;<font style='color:white'>\"+ current_counter +\"</font>&nbsp;次\"\n       );\n  };\n});\n// 获取明细，并将明细也展示在页面上\nio10blogFirebase.child(\"detail/\"+current_url).on(\"value\", function(data){\n\tvar detail_counter = data.val();\n\tif($(\"#detail_counter\").length > 0 && detail_counter > 1){\n\t\t$(\"#detail_counter\").html(\n\t\t\t\"&nbsp;本页访问量&nbsp;<font style='color:white'>\"+ detail_counter +\"</font>&nbsp;次\"\n\t\t);\n\t}\n});\n```\n将访问数+1，包括总数和明细\n```javascript\n// 总数+1\nio10blogFirebase.child(\"sum\").transaction(function (current_counter) {\n  return (current_counter || 0) + 1;\n});\n// 明细+1\nio10blogFirebase.child(\"detail/\"+current_url).transaction(function (current_counter) {\n  return (current_counter || 0) + 1;\n});\n```","slug":"realtime-count-firebase","updated":1425274321673,"excerpt":"<p>本来想写一个HEXO的搭建过程的，但是在搜索引擎上一搜一大把教程。看到有人评论：“你写这个跟HEXO官方的教程比好在哪？”仔细想想，说的极好。索性也就不写这个人家已经写烂了的东西了。附一个<a href=\"http://hexo.io/docs/\" target=\"_blank\" rel=\"external\">官方教程链接</a>。其实在搭建过程中还参考了一个很全面很详细的博客，也附上链接吧，<a href=\"http://ibruce.info/2013/11/22/hexo-your-blog/\" target=\"_blank\" rel=\"external\">ibruce不如</a>。<br>对于像HEXO这种静态博客来讲，想要做到一些动态的功能就必须得靠第三方支持，比如评论可以使用多说、Disqus。虽然我的blog的访问人数少的可怜，但是我还是希望知道有多少访问量的。于是乎发现了FireBase这个神奇的东西，它是一个制作实时应用的框架，用它来统计访问量绰绰有余啦。它可以做到的就像本博客下面的一样，你可以尝试开启两个本博客窗口，然后刷新其中一个，看看另外一个页面，是不是很神奇？另一个页面的访问量也实时增加了！</p>\n","_id":"zr0rnx9peywl4m10","categories":[],"comments":true,"layout":"post","link":""}],"Tag":[{"name":"生活","_id":"xyic4x335xtbabg6","posts":["41xz9tlsmyx8zm22"]},{"name":"技术","_id":"385m3nk1d7yh90r6","posts":["zr0rnx9peywl4m10"]},{"name":"firebase","_id":"bd6nced9dbbzsmpg","posts":["zr0rnx9peywl4m10"]},{"name":"hexo","_id":"x02v6weo633c48ch","posts":["zr0rnx9peywl4m10"]}]}